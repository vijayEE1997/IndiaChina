{"ast":null,"code":"var _jsxFileName = \"/home/ajay/Downloads/aiweb/src/components/charts/BarChart.js\";\nimport * as d3 from 'd3';\nimport React, { useRef, useEffect } from 'react';\n\nfunction BarChart({\n  width,\n  height,\n  data\n}) {\n  const ref = useRef();\n  useEffect(() => {\n    const svg = d3.select(ref.current).attr(\"width\", \"\" + width + \"%\").attr(\"height\", \"\" + height + \"%\").style(\"border-color\", \"none\").style(\"margin\", \"10px\");\n  }, []);\n  useEffect(() => {\n    draw();\n  }, [data]);\n\n  const draw = () => {\n    const svg = d3.select(ref.current);\n    var selection = svg.selectAll(\"rect\").data(data);\n    var yScale = d3.scaleLinear().domain([0, d3.max(data)]).range([0, height - 100]);\n    selection.transition().duration(300).attr(\"height\", d => yScale(d)).attr(\"y\", d => height - yScale(d));\n    selection.enter().append(\"rect\").attr(\"x\", (d, i) => i * 45).attr(\"y\", d => height).attr(\"width\", 40).attr(\"height\", 0).attr(\"fill\", \"orange\").transition().duration(300).attr(\"height\", d => yScale(d)).attr(\"y\", d => height - yScale(d));\n    selection.exit().transition().duration(300).attr(\"y\", d => height).attr(\"height\", 0).remove();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"c1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default BarChart;","map":{"version":3,"sources":["/home/ajay/Downloads/aiweb/src/components/charts/BarChart.js"],"names":["d3","React","useRef","useEffect","BarChart","width","height","data","ref","svg","select","current","attr","style","draw","selection","selectAll","yScale","scaleLinear","domain","max","range","transition","duration","d","enter","append","i","exit","remove"],"mappings":";AAAA,OAAO,KAAKA,EAAZ,MAAoB,IAApB;AACA,OAAOC,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,QAAyC,OAAzC;;AAEA,SAASC,QAAT,CAAkB;AAAEC,EAAAA,KAAF;AAASC,EAAAA,MAAT;AAAiBC,EAAAA;AAAjB,CAAlB,EAA0C;AACtC,QAAMC,GAAG,GAAGN,MAAM,EAAlB;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMM,GAAG,GAAGT,EAAE,CAACU,MAAH,CAAUF,GAAG,CAACG,OAAd,EACPC,IADO,CACF,OADE,EACO,KAAGP,KAAH,GAAS,GADhB,EAEPO,IAFO,CAEF,QAFE,EAEQ,KAAGN,MAAH,GAAU,GAFlB,EAGPO,KAHO,CAGD,cAHC,EAGc,MAHd,EAIPA,KAJO,CAID,QAJC,EAIQ,MAJR,CAAZ;AAKH,GANQ,EAMN,EANM,CAAT;AAQAV,EAAAA,SAAS,CAAC,MAAM;AACZW,IAAAA,IAAI;AACP,GAFQ,EAEN,CAACP,IAAD,CAFM,CAAT;;AAIA,QAAMO,IAAI,GAAG,MAAM;AAEf,UAAML,GAAG,GAAGT,EAAE,CAACU,MAAH,CAAUF,GAAG,CAACG,OAAd,CAAZ;AACA,QAAII,SAAS,GAAGN,GAAG,CAACO,SAAJ,CAAc,MAAd,EAAsBT,IAAtB,CAA2BA,IAA3B,CAAhB;AACA,QAAIU,MAAM,GAAGjB,EAAE,CAACkB,WAAH,GACRC,MADQ,CACD,CAAC,CAAD,EAAInB,EAAE,CAACoB,GAAH,CAAOb,IAAP,CAAJ,CADC,EAERc,KAFQ,CAEF,CAAC,CAAD,EAAIf,MAAM,GAAC,GAAX,CAFE,CAAb;AAIAS,IAAAA,SAAS,CACJO,UADL,GACkBC,QADlB,CAC2B,GAD3B,EAEKX,IAFL,CAEU,QAFV,EAEqBY,CAAD,IAAOP,MAAM,CAACO,CAAD,CAFjC,EAGKZ,IAHL,CAGU,GAHV,EAGgBY,CAAD,IAAOlB,MAAM,GAAGW,MAAM,CAACO,CAAD,CAHrC;AAKAT,IAAAA,SAAS,CACJU,KADL,GAEKC,MAFL,CAEY,MAFZ,EAGKd,IAHL,CAGU,GAHV,EAGe,CAACY,CAAD,EAAIG,CAAJ,KAAUA,CAAC,GAAG,EAH7B,EAIKf,IAJL,CAIU,GAJV,EAIgBY,CAAD,IAAOlB,MAJtB,EAKKM,IALL,CAKU,OALV,EAKmB,EALnB,EAMKA,IANL,CAMU,QANV,EAMoB,CANpB,EAOKA,IAPL,CAOU,MAPV,EAOkB,QAPlB,EAQKU,UARL,GAQkBC,QARlB,CAQ2B,GAR3B,EASKX,IATL,CASU,QATV,EASqBY,CAAD,IAAOP,MAAM,CAACO,CAAD,CATjC,EAUKZ,IAVL,CAUU,GAVV,EAUgBY,CAAD,IAAOlB,MAAM,GAAGW,MAAM,CAACO,CAAD,CAVrC;AAYAT,IAAAA,SAAS,CACJa,IADL,GAEKN,UAFL,GAEkBC,QAFlB,CAE2B,GAF3B,EAGKX,IAHL,CAGU,GAHV,EAGgBY,CAAD,IAAOlB,MAHtB,EAIKM,IAJL,CAIU,QAJV,EAIoB,CAJpB,EAKKiB,MALL;AAMH,GA/BD;;AAkCA,sBACI;AAAK,IAAA,SAAS,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,GAAG,EAAErB,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAQH;;AAED,eAAeJ,QAAf","sourcesContent":["import * as d3 from 'd3';\nimport React, { useRef, useEffect } from 'react';\n\nfunction BarChart({ width, height, data }){\n    const ref = useRef();\n\n    useEffect(() => {\n        const svg = d3.select(ref.current)\n            .attr(\"width\", \"\"+width+\"%\")\n            .attr(\"height\", \"\"+height+\"%\")\n            .style(\"border-color\",\"none\")\n            .style(\"margin\",\"10px\");\n    }, []);\n\n    useEffect(() => {\n        draw();\n    }, [data]);  \n\n    const draw = () => {\n\n        const svg = d3.select(ref.current);\n        var selection = svg.selectAll(\"rect\").data(data);\n        var yScale = d3.scaleLinear()\n            .domain([0, d3.max(data)])\n            .range([0, height-100]);\n\n        selection\n            .transition().duration(300)\n            .attr(\"height\", (d) => yScale(d))\n            .attr(\"y\", (d) => height - yScale(d))\n\n        selection\n            .enter()\n            .append(\"rect\")\n            .attr(\"x\", (d, i) => i * 45)\n            .attr(\"y\", (d) => height)\n            .attr(\"width\", 40)\n            .attr(\"height\", 0)\n            .attr(\"fill\", \"orange\")\n            .transition().duration(300)\n            .attr(\"height\", (d) => yScale(d))\n            .attr(\"y\", (d) => height - yScale(d))\n\n        selection\n            .exit()\n            .transition().duration(300)\n            .attr(\"y\", (d) => height)\n            .attr(\"height\", 0)\n            .remove()\n    }\n\n\n    return (\n        <div className=\"c1\">\n            <svg ref={ref}>\n            </svg>\n        </div>\n\n    )\n\n}\n\nexport default BarChart;\n"]},"metadata":{},"sourceType":"module"}